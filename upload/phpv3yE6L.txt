好友名录---已解决将sql语句进行了拆分
select id as uid,authtype,nick,portrait,title,riches_grade,ismember from user where id in(select A.from_id from attention A inner join attention B on A.from_id=B.to_id and B.from_id=A.to_id where A.to_id=484);

严重--一级推广列表，二级推广列表-----加索引暂时解决
select user.id,user.nick,user.addtime,user.referrer_id,if(sum(rebate.num) is null,0,sum(rebate.num))  as expense from user left join rebate on rebate.uid=2 and rebate.fid=user.id and rebate.addtime<=1395129917 where user.referrer_id in (5,6,7,8,9,10,11,12,13,15,16,17,22,23,24,26,31,32,33,35,36,39,41,45,53,55,56,57,59,60,61,66,67,73,82,94,98,102,103,104,108,109,116,117,132,141,143,145,152,156,160,164,166,167,176,179,181,182,183,187,197,206,214,222,223,235,244,248,250,264,265,267,268,271,272,274,288,289,300,303,305,312,325,347,356,358,364,365,387,396,400,419,451,465,493,497,505,516,517,526,529,533,573,575,577,578,581,590,601,604,621,624,625,628,644,647,655,656,704,706,711,737,749,791,792,795,798,851,852,853,859,914,933,1164,1189,1250,1251,1280,1330,1417,1473,1599,1883,2167,2706,2707,2914,3069,3070,3082,3168,3174,3250,3321,3353,3356,3444,3447,3454,3466,3503,3504,3507,3508,3509,3516,3518,3534,3707,3725,3734,3894,4061,4558,4939,4961,5165,5176,5294,5303,5733) group by user.id order by user.addtime desc limit 0,21;
